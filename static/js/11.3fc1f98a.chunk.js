(this.webpackJsonp=this.webpackJsonp||[]).push([[11],{120:function(e,t,n){var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.computeSizeLabel=void 0;var a=r(n(8)),l=n(247),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(5)),u=n(7),i=r(n(16)),f=n(22),c=r(n(282)),d=r(n(25)),s=n(17),p=r(n(21)),y=r(n(42)),m=r(n(139));function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var v=["B","kB","MB","GB","TB"],b=function(e){var t=Math.floor(e),n=Math.min(t>0?Math.floor(Math.floor(Math.log10(t))/3):0,v.length-1);return(t/Math.pow(10,0===n?1:3*n)).toFixed(2)+" "+v[n]};t.computeSizeLabel=b;var w=function(e,t){(0,l.getDownloadURL)(e,t).then((function(e){return(0,m.default)(e)}))},h=function(e){var t=e.item,n=e.relativeDate,r=void 0!==n&&n,l=e.dark,m=e.course,g=void 0===m?"":m,v=e.onPress,h=void 0===v?function(){}:v,x=e.children,O=(0,o.useMemo)((function(){return"file"===t.type?b(1e3*t.size):""}),[t]),j=(0,o.useContext)(f.DeviceContext).device,E=(0,o.useMemo)((function(){return"file"===t.type?(0,c.default)(t.filename,l):o.default.createElement(d.default,{name:"folder",color:l?i.default.gray200:i.default.gray700,size:24*s.p})}),[t,l]);return o.default.createElement(u.View,{style:{flexDirection:"column"}},o.default.createElement(y.default,{android_ripple:{color:i.default.lightGray},onPress:function(){"file"===t.type||h()},style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:8}},o.default.createElement(u.View,{style:{flexDirection:"row",alignItems:"center",flex:1}},E,o.default.createElement(u.View,{style:{flexDirection:"column",justifyContent:"flex-start",marginLeft:10*s.p,flex:1}},o.default.createElement(u.View,{style:{marginRight:10*s.p}},o.default.createElement(p.default,{c:l?i.default.gray100:i.default.gray800,w:"m",s:12*s.p,numberOfLines:1},t.name)),"file"===t.type&&o.default.createElement(u.View,{style:{flexDirection:"column",flex:1}},o.default.createElement(p.default,{numberOfLines:1,w:"r",s:10*s.p,c:i.default.gray300},O+" \xb7 ",r?(0,a.default)(t.creation_date).fromNow():(0,a.default)(t.creation_date).format("ll"),g?" \xb7 "+g:"")))),"file"===t.type?o.default.createElement(u.Pressable,{android_ripple:{color:i.default.lightGray},onPress:function(){return w(j,t)}},o.default.createElement(d.default,{name:"download",size:24*s.p,color:i.default.accent300})):null),"dir"===t.type?o.default.createElement(u.View,{style:{flexDirection:"row"}},o.default.createElement(u.View,{style:{width:16*s.p,alignItems:"flex-start"}},o.default.createElement(u.View,{style:{flex:1,marginLeft:4*s.p,width:2*s.p,backgroundColor:l?i.default.gray600:i.default.gray300}})),o.default.createElement(u.View,{style:{flex:1}},x)):null)};t.default=h},121:function(e,t,n){var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(57)),l=r(n(18)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(5)),u=n(7),i=r(n(16)),f=r(n(25)),c=n(17),d=["dark","icon","initiallyFocused","inputStyle","style"];function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var p=function(e){var t=e.dark,n=e.icon,r=void 0===n?"":n,s=e.initiallyFocused,p=void 0!==s&&s,y=e.inputStyle,m=void 0===y?{}:y,g=e.style,v=void 0===g?{}:g,b=(0,l.default)(e,d),w=(0,o.useRef)(null);(0,o.useEffect)((function(){var e;p&&(null==(e=w.current)||e.focus())}),[p]);var h=(0,o.useMemo)((function(){return u.StyleSheet.create({textInputContainer:{backgroundColor:t?i.default.gray700:i.default.gray200,height:40*c.p,paddingHorizontal:12*c.p,borderRadius:4*c.p,flexDirection:"row",alignItems:"center"},textInput:{padding:0,fontFamily:"Inter-Regular",fontSize:10*c.p,flex:1,color:t?i.default.gray200:i.default.gray700}})}),[t]);return o.default.createElement(u.View,{style:Object.assign({},h.textInputContainer,v)},r?o.default.createElement(f.default,{name:r,size:18*c.p,color:t?i.default.gray200:i.default.gray700,style:{marginRight:8*c.p}}):null,o.default.createElement(u.TextInput,(0,a.default)({ref:function(e){return w.current=e}},b,{style:Object.assign({},h.textInput,m),placeholderTextColor:t?i.default.gray300:i.default.gray600})))};t.default=p},1335:function(e,t,n){var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.navigation,n=(0,c.useTranslation)().t,r=((0,d.useDispatch)(),(0,u.useContext)(b.DeviceContext).dark),E=(0,u.useContext)(O.ModalContext).setModal,M=(0,d.useSelector)((function(e){return e.courses.courses})),P=(0,u.useState)(""),k=(0,o.default)(P,2),C=k[0],_=k[1],D=(0,u.useState)([]),I=(0,o.default)(D,2),S=I[0],V=I[1],z=(0,u.useState)(""),W=(0,o.default)(z,2),T=W[0],L=W[1],R=(0,u.useState)(!0),B=(0,o.default)(R,2),F=B[0],H=B[1],G=(0,u.useState)(null),A=(0,o.default)(G,2),J=A[0],N=A[1],U=(0,u.useState)(null),q=(0,o.default)(U,2),K=q[0],Q=q[1],X=(0,u.useMemo)((function(){return[{label:n("allCourses"),value:""}].concat((0,l.default)(M.map((function(e){return{label:e.basicInfo.name,value:e.basicInfo.code+e.basicInfo.name}}))))}),[M]);(0,u.useEffect)((function(){Y(C)}),[T,C]);var Y=function(e){var t=e.toLowerCase().trim();J&&clearTimeout(J),K&&clearTimeout(K),H(!0),N(setTimeout((function(){$(t),Q(setTimeout((function(){H(!1)}),500))}),50))},Z=function e(t,n,r,a){var o=[];return n.forEach((function(n){"file"==n.type?(n.name+n.filename).toLowerCase().includes(t)&&o.push(Object.assign({},n,{course_code:a,course_name:r})):"dir"==n.type&&o.push.apply(o,(0,l.default)(e(t,n.children,r,a)))})),o},$=function(e){(0,a.default)((function*(){setTimeout((function(){var t=[];if(""!==e){if(T){var n,r,a=M.find((function(e){return T===""+e.basicInfo.code+e.basicInfo.name}));if(!a)return void(t=[]);(n=t).push.apply(n,(0,l.default)(Z(e,(null==(r=a.extendedInfo)?void 0:r.material)||[],a.basicInfo.name,a.basicInfo.code)))}else M.forEach((function(n){var r,a;(r=t).push.apply(r,(0,l.default)(Z(e,(null==(a=n.extendedInfo)?void 0:a.material)||[],n.basicInfo.name,n.basicInfo.code)))}));V(t)}else V([])}),0)}))()};return u.default.createElement(p.default,null,u.default.createElement(i.View,{style:{flexDirection:"row",alignItems:"center",paddingHorizontal:12*y.p,paddingVertical:16*y.p}},u.default.createElement(m.default,{onPress:t.goBack,style:{marginRight:16*y.p}},u.default.createElement(g.default,{name:"arrow-left",color:r?f.default.gray200:f.default.gray700,size:24*y.p})),u.default.createElement(v.default,{initiallyFocused:!0,icon:"search",dark:r,placeholder:n("searchForAnything"),autoFocus:!0,onChangeText:function(e){var t=e.toLowerCase().trim();_(t),Y(t)},style:{flex:1}}),u.default.createElement(m.default,{onPress:function(){E(u.default.createElement(j.default,{items:X,title:n("selectCourseDropdown"),onSelect:function(e){return L(e)}}))},style:{marginLeft:16*y.p}},u.default.createElement(x.default,{number:""===T?0:""},u.default.createElement(g.default,{name:"adjustments",color:r?f.default.gray200:f.default.gray700,size:24*y.p})))),u.default.createElement(w.default,{dark:r,items:[{label:n("files"),value:"files"}],onChange:function(){},adjusted:!0}),u.default.createElement(i.FlatList,{style:{paddingTop:24*y.p,paddingHorizontal:16*y.p},contentContainerStyle:{flexGrow:1},data:F?S.slice(0,10):S,keyExtractor:function(e){return e.code},initialNumToRender:10,maxToRenderPerBatch:10,renderItem:function(e){var t=e.item;return u.default.createElement(i.View,{key:t.code},u.default.createElement(s.default,{item:t,key:t.code,dark:r,course:t.course_name}))},ListEmptyComponent:u.default.createElement(i.View,{style:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center"}},u.default.createElement(g.default,{name:"search-off",size:64*y.p,color:r?f.default.gray300:f.default.gray600}),u.default.createElement(i.View,{style:{marginTop:8*y.p,flexDirection:"column",alignItems:"center"}},u.default.createElement(h.default,{s:12*y.p,w:"m",c:r?f.default.gray200:f.default.gray700,style:{marginBottom:8*y.p}},n("noResults")),u.default.createElement(h.default,{s:10*y.p,w:"m",c:r?f.default.gray300:f.default.gray600},n("tryADifferentTerm")))),ListFooterComponent:u.default.createElement(i.View,{style:{marginBottom:24*y.p}})}))};var a=r(n(0)),l=r(n(23)),o=r(n(15)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(5)),i=n(7),f=r(n(16)),c=n(33),d=n(28),s=r(n(120)),p=r(n(44)),y=n(17),m=r(n(42)),g=r(n(25)),v=r(n(121)),b=n(22),w=r(n(93)),h=r(n(21)),x=r(n(146)),O=n(67),j=r(n(1336));function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}},1336:function(e,t,n){var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(5)),l=n(7),o=r(n(16)),u=n(22),i=n(67),f=n(17),c=r(n(21)),d=r(n(165));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var p=function(e){var t=e.title,n=e.items,r=e.onSelect,s=(0,a.useContext)(u.DeviceContext).dark,p=(0,a.useContext)(i.ModalContext).hideModal,y=(0,a.useCallback)((function(e){r(e),p()}),[r,p]);return a.default.createElement(d.default,{title:t,dismissable:!0},n.map((function(e){return a.default.createElement(l.TouchableOpacity,{key:e.value,onPress:function(){return y(e.value)}},a.default.createElement(l.View,{style:{paddingVertical:8*f.p}},a.default.createElement(c.default,{s:12*f.p,w:"r",c:s?o.default.gray100:o.default.gray800},e.label)))})))};t.default=p},146:function(e,t,n){var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(5)),l=n(7),o=r(n(16)),u=n(17),i=r(n(21));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var c=l.StyleSheet.create({badge:{position:"absolute",width:20*u.p,height:20*u.p,borderRadius:20*u.p,backgroundColor:o.default.red,right:-10*u.p,top:-10*u.p,justifyContent:"center",alignItems:"center"}}),d=function(e){var t=e.children,n=e.style,r=void 0===n?{}:n,f=e.number,d=(0,a.useMemo)((function(){return"string"===typeof f?f:f>99?"99+":f}),[f]);return a.default.createElement(l.View,{style:Object.assign({},r)},t,0!==d?a.default.createElement(l.View,{style:c.badge},a.default.createElement(i.default,{w:"r",s:10*u.p,c:o.default.gray100},d)):null)};t.default=d},282:function(e,t,n){var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=e.split(".").pop().toLowerCase(),r=0;r<i.length;r++){var f=i[r],c=f.icon;if(f.extensions.includes(n)){var d=t?i[r].color:i[r].colorLight||i[r].color;return a.default.createElement(u.default,{name:c,color:d,size:24*o.p})}}return a.default.createElement(u.default,{name:"file-unknown",color:l.default.gray500,size:24*o.p})};var a=r(n(5)),l=r(n(16)),o=n(17),u=r(n(25)),i=[{icon:"file-text",color:l.default.gray200,colorLight:l.default.gray700,extensions:["csv","log","md","txt"]},{icon:"archive",color:l.default.gray200,colorLight:l.default.gray700,extensions:["7z","bz","gz","rar","tar","zip","xz"]},{icon:"file-code",color:l.default.black,extensions:["asm","c","cpp","cs","css","go","h","hpp","htm","html","java","js","json","jsx","ts","tsx","php","py","rs","xml"]},{icon:"photo",color:l.default.gradient1,extensions:["bmp","gif","jpg","jpeg","png","svg","tiff"]},{icon:"movie",color:l.default.gradient1,extensions:["flv","mkv","mp4","mov","wmv","avi","webm"]},{icon:"headphones",color:l.default.red,extensions:["aac","alac","flac","m4a","mp3","ogg","wav","wma"]},{icon:"file-text",color:l.default.gradient1,extensions:["doc","docm","docx","odt"]},{icon:"file-text",color:"#ff3848",extensions:["pdf"]},{icon:"presentation",color:l.default.orange,extensions:["odp","ppt","pptm","pptx"]},{icon:"table",color:l.default.green,extensions:["ods","xls","xlsm","xlsx"]}]},44:function(e,t,n){var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(5)),l=n(7),o=r(n(16)),u=n(22);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var f=function(e){var t=e.children,n=(0,a.useContext)(u.DeviceContext),r=n.dark,i=n.chosenTheme,f=(0,a.useMemo)((function(){return l.StyleSheet.create({screen:{backgroundColor:r?o.default.gray800:o.default.gray100,flex:1}})}),[r]);return a.default.createElement(l.View,{style:{flex:1}},a.default.createElement(l.StatusBar,{barStyle:"system"==i?"default":r?"dark-content":"light-content"}),a.default.createElement(l.View,{style:f.screen},t))};t.default=f},93:function(e,t,n){var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(15)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(5)),o=n(7),u=r(n(16)),i=n(17),f=r(n(42)),c=r(n(21));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var s=function(e){var t=e.adjusted,n=void 0!==t&&t,r=e.items,d=e.onChange,s=e.defaultIndex,p=void 0===s?0:s,y=e.dark,m=e.style,g=void 0===m?{}:m,v=(0,l.useState)(p),b=(0,a.default)(v,2),w=b[0],h=b[1],x=(0,l.useMemo)((function(){return o.StyleSheet.create({container:{},adjusted:{marginTop:24*i.p,paddingHorizontal:16*i.p},tab:{},selectedIndicator:{marginTop:4*i.p,height:2*i.p,backgroundColor:u.default.accent300}})}),[y,n]);return l.default.createElement(o.View,null,l.default.createElement(o.ScrollView,{contentContainerStyle:Object.assign({},x.container,g,n?x.adjusted:{}),horizontal:!0,showsHorizontalScrollIndicator:!1},r.map((function(e,t){return l.default.createElement(o.View,{style:x.tab,key:e.value},l.default.createElement(f.default,{style:{marginRight:24*i.p},onPress:function(){return h(e=t),void d(e);var e}},l.default.createElement(c.default,{s:12*i.p,w:"m",c:t==w?u.default.accent300:y?u.default.gray100:u.default.gray800},e.label),t==w?l.default.createElement(o.View,{style:x.selectedIndicator}):null))}))))};t.default=s}}]);
//# sourceMappingURL=11.3fc1f98a.chunk.js.map