{"version":3,"sources":["src/ui/DirectoryItem.tsx","src/ui/NoContent.tsx","src/ui/DirectoryItemRecursive.tsx","src/ui/core/BadgeContainer.tsx","src/ui/Section.tsx","src/ui/Notification.tsx","src/utils/getFileIcon.tsx","src/ui/Screen.tsx","src/ui/Header.tsx","src/ui/MaterialExplorer.tsx","src/ui/Tabs.tsx"],"names":["sizes","computeSizeLabel","size","_size","Math","floor","index","min","log10","length","toFixed","downloadFile","device","item","getDownloadURL","then","url","openURL","relativeDate","dark","course","onPress","children","sizeLabel","useMemo","type","useContext","DeviceContext","iconComponent","getFileIcon","filename","name","color","colors","gray200","gray700","p","View","style","flexDirection","android_ripple","lightGray","justifyContent","alignItems","paddingVertical","flex","marginLeft","marginRight","c","gray100","gray800","w","s","numberOfLines","gray300","moment","creation_date","fromNow","format","Pressable","accent300","width","backgroundColor","gray600","t","useTranslation","DirectoryItemRecursive","useState","opened","setOpened","map","key","code","_styles","StyleSheet","create","badge","position","height","borderRadius","red","right","top","number","badgeText","title","marginTop","isCourseAlert","n","undefined","topic","notification","read","courseName","htmlTags","icon","NotificationType","TEST","DIRECT","NOTICE","MATERIAL","text","decode","body","replace","trim","dateString","date","time","offset","useSharedValue","animStyle","useAnimatedStyle","value","useEffect","withTiming","duration","course_name","padding","RenderHTMLSource","source","html","ext","split","pop","toLowerCase","i","FILE_TYPES","extensions","includes","colorLight","gray500","black","gradient1","orange","green","chosenTheme","screen","StatusBar","barStyle","HEADER_TYPE","headerType","notifications","useSelector","state","user","config","session","dispatch","useDispatch","notificationCount","filter","is_read","navigation","useNavigation","themeToggleIconName","toggleTheme","useCallback","setConfig","theme","header","marginHorizontal","marginVertical","headerSection","headerMiddle","headerEnd","MAIN","DrawerActions","toggleDrawer","genericPlatform","navigate","SECONDARY","goBack","courseId","courses","basicInfo","extendedInfo","material","find","adjusted","items","onChange","defaultIndex","selectedIndex","setSelectedIndex","container","paddingHorizontal","tab","selectedIndicator","ScrollView","contentContainerStyle","horizontal","showsHorizontalScrollIndicator","label"],"mappings":"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","file":"static/js/1.353d25d5.chunk.js","sourcesContent":["import moment from 'moment';\nimport {File, getDownloadURL, MaterialItem} from 'open-polito-api/lib/material';\nimport React, {FC, ReactNode, useContext, useMemo} from 'react';\nimport {Pressable, View} from 'react-native';\nimport colors from '../colors';\nimport {DeviceContext} from '../context/Device';\nimport getFileIcon from '../utils/getFileIcon';\nimport TablerIcon from './core/TablerIcon';\nimport {p} from '../scaling';\nimport Text from './core/Text';\nimport PressableBase from './core/PressableBase';\nimport {Device} from 'open-polito-api/lib/device';\nimport openURL from '../utils/openUrl';\n\nexport type DirectoryItemProps = {\n  item: MaterialItem;\n  relativeDate?: boolean;\n  dark: boolean;\n  course?: string;\n  onPress?: Function;\n  children?: ReactNode;\n};\n\nconst sizes = ['B', 'kB', 'MB', 'GB', 'TB'];\n\nexport const computeSizeLabel = (size: number) => {\n  const _size = Math.floor(size);\n  const index = Math.min(\n    _size > 0 ? Math.floor(Math.floor(Math.log10(_size)) / 3) : 0,\n    sizes.length - 1,\n  );\n  return `${(_size / 10 ** (index === 0 ? 1 : 3 * index)).toFixed(2)} ${\n    sizes[index]\n  }`;\n};\n\nconst downloadFile = (device: Device, item: File) => {\n  getDownloadURL(device, item).then(url => openURL(url));\n};\n\nconst DirectoryItem: FC<DirectoryItemProps> = ({\n  item,\n  relativeDate = false, // show as \"X days/hours ago instead of plain date\"\n  dark,\n  course = '',\n  onPress = () => {},\n  children,\n}) => {\n  const sizeLabel = useMemo(() => {\n    return item.type === 'file' ? computeSizeLabel(item.size * 1000) : '';\n  }, [item]);\n\n  const {device} = useContext(DeviceContext);\n\n  const iconComponent = useMemo(() => {\n    return item.type === 'file' ? (\n      getFileIcon(item.filename, dark)\n    ) : (\n      <TablerIcon\n        name=\"folder\"\n        color={dark ? colors.gray200 : colors.gray700}\n        size={24 * p}\n      />\n    );\n  }, [item, dark]);\n\n  return (\n    <View\n      style={{\n        flexDirection: 'column',\n      }}>\n      <PressableBase\n        android_ripple={{color: colors.lightGray}}\n        onPress={() => {\n          item.type === 'file' ? () => downloadFile(device, item) : onPress();\n        }} // download file if file, otherwise use onPress prop\n        style={{\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          paddingVertical: 8,\n        }}>\n        <View\n          style={{\n            flexDirection: 'row',\n            alignItems: 'center',\n            flex: 1,\n          }}>\n          {iconComponent}\n          <View\n            style={{\n              flexDirection: 'column',\n              justifyContent: 'flex-start',\n              marginLeft: 10 * p,\n              flex: 1,\n            }}>\n            <View style={{marginRight: 10 * p}}>\n              <Text\n                c={dark ? colors.gray100 : colors.gray800}\n                w=\"m\"\n                s={12 * p}\n                numberOfLines={1}>\n                {item.name}\n              </Text>\n            </View>\n            {item.type === 'file' && (\n              <View style={{flexDirection: 'column', flex: 1}}>\n                <Text numberOfLines={1} w=\"r\" s={10 * p} c={colors.gray300}>\n                  {sizeLabel + ' 路 '}\n                  {relativeDate\n                    ? moment(item.creation_date).fromNow()\n                    : moment(item.creation_date).format('ll')}\n                  {course ? ` 路 ${course}` : ''}\n                </Text>\n              </View>\n            )}\n          </View>\n        </View>\n\n        {item.type === 'file' ? (\n          <Pressable\n            android_ripple={{color: colors.lightGray}}\n            onPress={() => downloadFile(device, item)}>\n            <TablerIcon\n              name=\"download\"\n              size={24 * p}\n              color={colors.accent300}\n            />\n          </Pressable>\n        ) : null}\n      </PressableBase>\n      {item.type === 'dir' ? (\n        <View style={{flexDirection: 'row'}}>\n          <View\n            style={{\n              width: 16 * p,\n              alignItems: 'flex-start',\n            }}>\n            <View\n              style={{\n                flex: 1,\n                marginLeft: 4 * p,\n                width: 2 * p,\n                backgroundColor: dark ? colors.gray600 : colors.gray300,\n              }}\n            />\n          </View>\n          <View style={{flex: 1}}>{children}</View>\n        </View>\n      ) : null}\n    </View>\n  );\n};\n\nexport default DirectoryItem;\n","import React, {useContext} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {View} from 'react-native';\nimport colors from '../colors';\nimport {DeviceContext} from '../context/Device';\nimport Text from './core/Text';\n\nexport default function NoContent() {\n  const {t} = useTranslation();\n\n  const {dark} = useContext(DeviceContext);\n\n  return (\n    <View style={{flex: 1, flexDirection: 'row', justifyContent: 'center'}}>\n      <Text s={12} w=\"m\" c={dark ? colors.gray200 : colors.gray700}>\n        {t('noContent')}\n      </Text>\n    </View>\n  );\n}\n","import React, {useState} from 'react';\nimport {View} from 'react-native';\nimport DirectoryItem from './DirectoryItem';\nimport {MaterialItem} from 'open-polito-api/lib/material';\n\nexport default function DirectoryItemRecursive({\n  dark,\n  item,\n}: {\n  dark: boolean;\n  item: MaterialItem;\n}) {\n  const [opened, setOpened] = useState(false);\n\n  return (\n    <View>\n      {item.type == 'file' ? (\n        <DirectoryItem dark={dark} item={item} />\n      ) : (\n        <View>\n          <DirectoryItem\n            dark={dark}\n            item={item}\n            onPress={() => {\n              setOpened(!opened);\n            }}>\n            {opened\n              ? item.children.map(item => (\n                  <DirectoryItemRecursive\n                    dark={dark}\n                    key={item.code}\n                    item={item}\n                  />\n                ))\n              : []}\n          </DirectoryItem>\n        </View>\n      )}\n    </View>\n  );\n}\n","import React, {FC, ReactNode, useMemo} from 'react';\nimport {StyleSheet, View, ViewStyle} from 'react-native';\nimport colors from '../../colors';\nimport {p} from '../../scaling';\nimport Text from './Text';\n\n/**\n * Wraps a component inside a view showing a badge.\n *\n * The badge is hidden if the number is 0.\n *\n * @param param0\n * @returns\n */\nconst BadgeContainer: FC<{\n  children: ReactNode;\n  style?: ViewStyle;\n  number: number | string;\n}> = ({children, style = {}, number}) => {\n  const badgeText = useMemo(() => {\n    return typeof number === 'string' ? number : number > 99 ? '99+' : number;\n  }, [number]);\n\n  return (\n    <View style={{...style}}>\n      {children}\n      {badgeText !== 0 ? (\n        <View style={_styles.badge}>\n          <Text w=\"r\" s={10 * p} c={colors.gray100}>\n            {badgeText}\n          </Text>\n        </View>\n      ) : null}\n    </View>\n  );\n};\n\nconst _styles = StyleSheet.create({\n  badge: {\n    position: 'absolute',\n    width: 20 * p,\n    height: 20 * p,\n    borderRadius: 20 * p,\n    backgroundColor: colors.red,\n    right: -10 * p,\n    top: -10 * p,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nexport default BadgeContainer;\n","import React, {FC, ReactNode} from 'react';\nimport {View, ViewStyle} from 'react-native';\nimport colors from '../colors';\nimport {p} from '../scaling';\nimport Text from './core/Text';\n\nexport type SectionParams = {\n  title: string;\n  dark: boolean;\n  style?: ViewStyle;\n  children: ReactNode;\n};\n\nconst Section = ({title, dark, style = {}, children}: SectionParams) => {\n  return (\n    <View style={{...style}}>\n      <Text s={12 * p} w=\"m\" c={dark ? colors.gray100 : colors.gray800}>\n        {title}\n      </Text>\n      <View style={{marginTop: 16 * p}}>{children}</View>\n    </View>\n  );\n};\n\nexport default Section;\n","import {decode} from 'html-entities';\nimport moment from 'moment';\nimport {Notification} from 'open-polito-api/lib/notifications';\nimport {NotificationType} from 'open-polito-api/lib/notifications';\nimport React, {FC, useEffect, useMemo} from 'react';\nimport {View} from 'react-native';\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withTiming,\n} from 'react-native-reanimated';\nimport {RenderHTMLSource} from 'react-native-render-html';\nimport colors from '../colors';\nimport {p} from '../scaling';\nimport {ExtendedAlert} from '../types';\nimport TablerIcon from './core/TablerIcon';\nimport Text from './core/Text';\n\nexport type NotificationParams = {\n  type: NotificationType | string;\n  notification: ExtendedAlert | Notification; // TODO add support for generic notifications (Notification type in API code)\n  dark: boolean;\n  read?: boolean;\n  courseName?: string;\n};\n\nconst isCourseAlert = (n: ExtendedAlert | Notification): n is ExtendedAlert => {\n  return (n as Notification).topic === undefined;\n};\nconst NotificationComponent: FC<NotificationParams> = ({\n  type,\n  notification,\n  dark,\n  read = true,\n  courseName = '',\n}) => {\n  const htmlTags = /[<][/]?[^/>]+[/]?[>]+/g;\n\n  const icon = useMemo(() => {\n    switch (type) {\n      case NotificationType.TEST:\n        return 'test-pipe';\n      case NotificationType.DIRECT:\n        return 'message-dots';\n      case NotificationType.NOTICE:\n        return 'bell';\n      case NotificationType.MATERIAL:\n        return 'files';\n      default:\n        return 'bell';\n    }\n  }, [type]);\n\n  const text = useMemo(() => {\n    return decode(\n      (isCourseAlert(notification)\n        ? notification.text\n        : notification.body || ''\n      )\n        .replace('\\n', ' \\n')\n        .replace(htmlTags, '')\n        .trim(),\n    );\n  }, [notification]);\n\n  const dateString = useMemo(() => {\n    return moment(\n      isCourseAlert(notification) ? notification.date : notification.time,\n    ).format('ll');\n  }, [notification]);\n\n  const offset = useSharedValue(read ? 0 : 1);\n\n  const animStyle = useAnimatedStyle(() => ({\n    width: 8 * p * offset.value,\n    height: 8 * p * offset.value,\n    backgroundColor: colors.red,\n    borderRadius: 8 * p,\n  }));\n\n  /**\n   * If read, hide red badge\n   */\n  useEffect(() => {\n    if (!read) return;\n    offset.value = withTiming(0, {duration: 200});\n  }, [read]);\n\n  return (\n    <View style={{flexDirection: 'column'}}>\n      <View style={{flexDirection: 'row', alignItems: 'center'}}>\n        <View\n          style={{\n            width: 32 * p,\n            height: 32 * p,\n            borderRadius: 4 * p,\n            backgroundColor: dark ? colors.gray700 : colors.gray200,\n            alignItems: 'center',\n            justifyContent: 'center',\n            marginRight: 16 * p,\n          }}>\n          <View\n            style={{\n              position: 'absolute',\n              justifyContent: 'center',\n              alignItems: 'center',\n              top: -4 * p,\n              right: -4 * p,\n              width: 8 * p,\n              height: 8 * p,\n            }}>\n            <Animated.View style={[animStyle]} />\n          </View>\n          <TablerIcon name={icon} color={colors.accent300} size={16 * p} />\n        </View>\n        <View style={{flexDirection: 'column', flex: 1}}>\n          <Text\n            s={12 * p}\n            c={dark ? colors.gray100 : colors.gray800}\n            w=\"r\"\n            numberOfLines={isCourseAlert(notification) ? 1 : 2}>\n            {isCourseAlert(notification) ? text : notification.title}\n          </Text>\n          <Text\n            s={10 * p}\n            c={dark ? colors.gray200 : colors.gray700}\n            w=\"r\"\n            numberOfLines={2}>\n            {dateString}\n            {isCourseAlert(notification)\n              ? notification.course_name && ' 路 ' + notification.course_name\n              : courseName && ' 路 ' + courseName}\n          </Text>\n        </View>\n      </View>\n      {text !== '' && (\n        <View\n          style={{\n            marginTop: 12 * p,\n            padding: 16 * p,\n            borderRadius: 4 * p,\n            backgroundColor: dark ? colors.gray700 : colors.gray200,\n          }}>\n          <RenderHTMLSource\n            source={{\n              html: text,\n            }}\n          />\n        </View>\n      )}\n    </View>\n  );\n};\n\nexport default NotificationComponent;\n","import React from 'react';\nimport colors from '../colors';\nimport {p} from '../scaling';\nimport TablerIcon from '../ui/core/TablerIcon';\n\nconst FILE_TYPES = [\n  {\n    icon: 'file-text',\n    color: colors.gray200,\n    colorLight: colors.gray700,\n    extensions: ['csv', 'log', 'md', 'txt'],\n  },\n  {\n    icon: 'archive',\n    color: colors.gray200,\n    colorLight: colors.gray700,\n    extensions: ['7z', 'bz', 'gz', 'rar', 'tar', 'zip', 'xz'],\n  },\n  {\n    icon: 'file-code',\n    color: colors.black,\n    extensions: [\n      'asm',\n      'c',\n      'cpp',\n      'cs',\n      'css',\n      'go',\n      'h',\n      'hpp',\n      'htm',\n      'html',\n      'java',\n      'js',\n      'json',\n      'jsx',\n      'ts',\n      'tsx',\n      'php',\n      'py',\n      'rs',\n      'xml',\n    ],\n  },\n  {\n    icon: 'photo',\n    color: colors.gradient1,\n    extensions: ['bmp', 'gif', 'jpg', 'jpeg', 'png', 'svg', 'tiff'],\n  },\n  {\n    icon: 'movie',\n    color: colors.gradient1,\n    extensions: ['flv', 'mkv', 'mp4', 'mov', 'wmv', 'avi', 'webm'],\n  },\n  {\n    icon: 'headphones',\n    color: colors.red,\n    extensions: ['aac', 'alac', 'flac', 'm4a', 'mp3', 'ogg', 'wav', 'wma'],\n  },\n  {\n    icon: 'file-text',\n    color: colors.gradient1,\n    extensions: ['doc', 'docm', 'docx', 'odt'],\n  },\n  {\n    icon: 'file-text',\n    color: '#ff3848',\n    extensions: ['pdf'],\n  },\n  {\n    icon: 'presentation',\n    color: colors.orange,\n    extensions: ['odp', 'ppt', 'pptm', 'pptx'],\n  },\n  {\n    icon: 'table',\n    color: colors.green,\n    extensions: ['ods', 'xls', 'xlsm', 'xlsx'],\n  },\n];\n\nexport default function getFileIcon(filename: string, dark: boolean) {\n  const ext = filename.split('.').pop()!.toLowerCase();\n  for (let i = 0; i < FILE_TYPES.length; i++) {\n    const {icon, extensions} = FILE_TYPES[i];\n    if (extensions.includes(ext)) {\n      const color = !dark\n        ? FILE_TYPES[i].colorLight || FILE_TYPES[i].color\n        : FILE_TYPES[i].color;\n      return <TablerIcon name={icon} color={color} size={24 * p} />;\n    }\n  }\n  return (\n    <TablerIcon name=\"file-unknown\" color={colors.gray500} size={24 * p} />\n  );\n}\n","import React, {ReactNode, useContext, useMemo} from 'react';\nimport {StatusBar, StyleSheet, View} from 'react-native';\nimport colors from '../colors';\nimport {DeviceContext} from '../context/Device';\n\nconst Screen = ({children}: {children: ReactNode}) => {\n  const {dark, chosenTheme} = useContext(DeviceContext);\n\n  const _styles = useMemo(() => {\n    return StyleSheet.create({\n      screen: {\n        backgroundColor: dark ? colors.gray800 : colors.gray100,\n        flex: 1,\n      },\n    });\n  }, [dark]);\n\n  return (\n    <View style={{flex: 1}}>\n      <StatusBar\n        barStyle={\n          chosenTheme == 'system'\n            ? 'default'\n            : dark\n            ? 'dark-content'\n            : 'light-content'\n        }\n      />\n      <View style={_styles.screen}>{children}</View>\n    </View>\n  );\n};\n\nexport default Screen;\n","import {useNavigation} from '@react-navigation/native';\nimport {Notification} from 'open-polito-api/lib/notifications';\nimport React, {FC, useCallback, useContext, useMemo} from 'react';\nimport {StyleSheet, View} from 'react-native';\nimport {useDispatch, useSelector} from 'react-redux';\nimport colors from '../colors';\nimport {DeviceContext} from '../context/Device';\nimport {p} from '../scaling';\nimport {AppDispatch, RootState} from '../store/store';\nimport BadgeContainer from './core/BadgeContainer';\nimport PressableBase from './core/PressableBase';\nimport TablerIcon from './core/TablerIcon';\nimport Text from './core/Text';\nimport {DrawerActions} from '@react-navigation/native';\nimport {genericPlatform} from '../utils/platform';\nimport {setConfig} from '../store/sessionSlice';\nimport {Configuration} from '../defaultConfig';\n\n// TODO navigation to downloads\n\nexport enum HEADER_TYPE {\n  MAIN = 0,\n  SECONDARY = 1,\n}\n\nexport type HeaderParams = {\n  title: string;\n  headerType: HEADER_TYPE;\n};\n\nconst Header: FC<HeaderParams> = ({title, headerType}) => {\n  const {dark} = useContext(DeviceContext);\n  const notifications = useSelector<RootState, Notification[]>(\n    state => state.user.notifications,\n  );\n  const config = useSelector<RootState, Configuration>(\n    state => state.session.config,\n  );\n\n  const dispatch = useDispatch<AppDispatch>();\n\n  const notificationCount = useMemo<number>(() => {\n    return notifications.filter(n => !n.is_read).length;\n  }, [notifications]);\n\n  const navigation = useNavigation();\n\n  const themeToggleIconName = useMemo(\n    () => (dark ? 'moon-stars' : 'sun'),\n    [dark],\n  );\n\n  const toggleTheme = useCallback(() => {\n    dispatch(setConfig({...config, theme: dark ? 'light' : 'dark'}));\n  }, [dark, config, dispatch]);\n\n  // TODO drawer notification count\n\n  const _styles = useMemo(() => {\n    return StyleSheet.create({\n      header: {\n        flexDirection: 'row',\n        marginHorizontal: 12 * p,\n        marginVertical: 16 * p,\n        alignItems: 'center',\n      },\n      headerSection: {\n        flex: 1,\n        flexDirection: 'row',\n        alignItems: 'center',\n      },\n      headerMiddle: {\n        flex: 2,\n        flexDirection: 'row',\n        justifyContent: 'center',\n      },\n      headerEnd: {\n        justifyContent: 'flex-end',\n      },\n    });\n  }, []);\n\n  return (\n    <View style={_styles.header}>\n      {headerType === HEADER_TYPE.MAIN ? (\n        <>\n          <View style={_styles.headerSection}>\n            {/* TODO add logic for badge number*/}\n            <PressableBase\n              onPress={() => {\n                navigation.dispatch(DrawerActions.toggleDrawer());\n              }}>\n              <BadgeContainer number={0} style={{marginRight: 16 * p}}>\n                <TablerIcon\n                  name=\"menu-2\"\n                  size={24 * p}\n                  color={dark ? colors.gray100 : colors.gray800}\n                />\n              </BadgeContainer>\n            </PressableBase>\n            {/* TODO download manager */}\n            {/* <TablerIcon\n              name=\"download\"\n              size={24 * p}\n              color={dark ? colors.gray100 : colors.gray800}\n            /> */}\n          </View>\n          <View\n            style={{\n              ..._styles.headerSection,\n              ..._styles.headerMiddle,\n            }}>\n            <Text\n              c={dark ? colors.gray100 : colors.gray800}\n              w=\"m\"\n              s={16 * p}\n              numberOfLines={1}>\n              {title}\n            </Text>\n          </View>\n          <View style={{..._styles.headerSection, ..._styles.headerEnd}}>\n            {genericPlatform !== 'mobile' && (\n              <PressableBase onPress={toggleTheme}>\n                <TablerIcon\n                  name={themeToggleIconName}\n                  size={24 * p}\n                  color={dark ? colors.gray100 : colors.gray800}\n                  style={{marginRight: 16 * p}}\n                />\n              </PressableBase>\n            )}\n            <PressableBase onPress={() => navigation.navigate('Search')}>\n              <TablerIcon\n                name=\"search\"\n                size={24 * p}\n                color={dark ? colors.gray100 : colors.gray800}\n                style={{marginRight: 16 * p}}\n              />\n            </PressableBase>\n            <PressableBase onPress={() => navigation.navigate('Notifications')}>\n              <BadgeContainer number={notificationCount}>\n                <TablerIcon\n                  name=\"bell\"\n                  size={24 * p}\n                  color={dark ? colors.gray100 : colors.gray800}\n                />\n              </BadgeContainer>\n            </PressableBase>\n          </View>\n        </>\n      ) : headerType === HEADER_TYPE.SECONDARY ? (\n        <>\n          <PressableBase onPress={navigation.goBack}>\n            <TablerIcon\n              name=\"arrow-left\"\n              size={24 * p}\n              color={dark ? colors.gray200 : colors.gray700}\n            />\n          </PressableBase>\n          <Text\n            s={16 * p}\n            w=\"m\"\n            c={dark ? colors.gray100 : colors.gray800}\n            style={{marginLeft: 16 * p}}>\n            {title}\n          </Text>\n        </>\n      ) : null}\n    </View>\n  );\n};\n\nexport default Header;\n","import {Directory, MaterialItem} from 'open-polito-api/lib/material';\nimport React, {useEffect, useState} from 'react';\nimport {View} from 'react-native';\nimport {useSelector} from 'react-redux';\nimport {RootState} from '../store/store';\nimport DirectoryItemRecursive from './DirectoryItemRecursive';\nimport NoContent from './NoContent';\nimport {CoursesState, CourseState} from '../store/coursesSlice';\nimport DirectoryItem from './DirectoryItem';\n\ntype MaterialDict = {[code: string]: MaterialItem};\n\nexport default function MaterialExplorer({\n  courseId,\n  dark,\n}: {\n  courseId: string; // Set to \"all\" to show all courses\n  dark: boolean;\n}) {\n  const {courses} = useSelector<RootState, CoursesState>(\n    state => state.courses,\n  );\n\n  return (\n    <View>\n      {courseId == 'all'\n        ? courses.map(course => (\n            <DirectoryItemRecursive\n              item={{\n                type: 'dir',\n                code: course.basicInfo.code + course.basicInfo.name,\n                name: course.basicInfo.name,\n                children: course.extendedInfo?.material || [],\n              }}\n              key={course.basicInfo.code + course.basicInfo.name}\n              dark={dark}\n            />\n          ))\n        : (\n            courses.find(\n              course =>\n                course.basicInfo.code + course.basicInfo.name == courseId,\n            )?.extendedInfo?.material || []\n          ).map(item => (\n            <DirectoryItemRecursive item={item} key={item.code} dark={dark} />\n          ))}\n    </View>\n  );\n}\n","import React, {FC, useMemo, useState} from 'react';\nimport {ScrollView, StyleSheet, View, ViewStyle} from 'react-native';\nimport colors from '../colors';\nimport {p} from '../scaling';\nimport PressableBase from './core/PressableBase';\nimport Text from './core/Text';\n\n// TODO animation\n\nexport type TabsParams = {\n  adjusted?: boolean; // Proper margins\n  items: {label: string; value: string}[];\n  onChange: (i: number) => any;\n  defaultIndex?: number;\n  dark: boolean;\n  style?: ViewStyle;\n};\n\nconst Tabs: FC<TabsParams> = ({\n  adjusted = false,\n  items,\n  onChange,\n  defaultIndex = 0,\n  dark,\n  style = {},\n}) => {\n  const [selectedIndex, setSelectedIndex] = useState(defaultIndex);\n\n  const select = (index: number) => {\n    setSelectedIndex(index);\n    onChange(index);\n  };\n\n  const _styles = useMemo(() => {\n    return StyleSheet.create({\n      container: {},\n      adjusted: {\n        marginTop: 24 * p,\n        paddingHorizontal: 16 * p,\n      },\n      tab: {},\n      selectedIndicator: {\n        marginTop: 4 * p,\n        height: 2 * p,\n        backgroundColor: colors.accent300,\n      },\n    });\n  }, [dark, adjusted]);\n\n  return (\n    <View>\n      <ScrollView\n        contentContainerStyle={{\n          ..._styles.container,\n          ...style,\n          ...(adjusted ? _styles.adjusted : {}),\n        }}\n        horizontal\n        showsHorizontalScrollIndicator={false}>\n        {items.map((tab, i) => (\n          <View style={_styles.tab} key={tab.value}>\n            <PressableBase\n              style={{marginRight: 24 * p}}\n              onPress={() => select(i)}>\n              <Text\n                s={12 * p}\n                w=\"m\"\n                c={\n                  i == selectedIndex\n                    ? colors.accent300\n                    : dark\n                    ? colors.gray100\n                    : colors.gray800\n                }>\n                {tab.label}\n              </Text>\n              {i == selectedIndex ? (\n                <View style={_styles.selectedIndicator} />\n              ) : null}\n            </PressableBase>\n          </View>\n        ))}\n      </ScrollView>\n    </View>\n  );\n};\n\nexport default Tabs;\n"],"sourceRoot":""}