(this.webpackJsonp=this.webpackJsonp||[]).push([[1],{120:function(e,t,r){var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.computeSizeLabel=void 0;var a=n(r(8)),l=r(247),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,r&&r.set(e,n);return n}(r(5)),u=r(7),i=n(r(16)),f=r(22),c=n(r(282)),d=n(r(25)),s=r(17),p=n(r(21)),y=n(r(42)),m=n(r(139));function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}var v=["B","kB","MB","GB","TB"],w=function(e){var t=Math.floor(e),r=Math.min(t>0?Math.floor(Math.floor(Math.log10(t))/3):0,v.length-1);return(t/Math.pow(10,0===r?1:3*r)).toFixed(2)+" "+v[r]};t.computeSizeLabel=w;var b=function(e,t){(0,l.getDownloadURL)(e,t).then((function(e){return(0,m.default)(e)}))},h=function(e){var t=e.item,r=e.relativeDate,n=void 0!==r&&r,l=e.dark,m=e.course,g=void 0===m?"":m,v=e.onPress,h=void 0===v?function(){}:v,E=e.children,O=(0,o.useMemo)((function(){return"file"===t.type?w(1e3*t.size):""}),[t]),j=(0,o.useContext)(f.DeviceContext).device,M=(0,o.useMemo)((function(){return"file"===t.type?(0,c.default)(t.filename,l):o.default.createElement(d.default,{name:"folder",color:l?i.default.gray200:i.default.gray700,size:24*s.p})}),[t,l]);return o.default.createElement(u.View,{style:{flexDirection:"column"}},o.default.createElement(y.default,{android_ripple:{color:i.default.lightGray},onPress:function(){"file"===t.type||h()},style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:8}},o.default.createElement(u.View,{style:{flexDirection:"row",alignItems:"center",flex:1}},M,o.default.createElement(u.View,{style:{flexDirection:"column",justifyContent:"flex-start",marginLeft:10*s.p,flex:1}},o.default.createElement(u.View,{style:{marginRight:10*s.p}},o.default.createElement(p.default,{c:l?i.default.gray100:i.default.gray800,w:"m",s:12*s.p,numberOfLines:1},t.name)),"file"===t.type&&o.default.createElement(u.View,{style:{flexDirection:"column",flex:1}},o.default.createElement(p.default,{numberOfLines:1,w:"r",s:10*s.p,c:i.default.gray300},O+" \xb7 ",n?(0,a.default)(t.creation_date).fromNow():(0,a.default)(t.creation_date).format("ll"),g?" \xb7 "+g:"")))),"file"===t.type?o.default.createElement(u.Pressable,{android_ripple:{color:i.default.lightGray},onPress:function(){return b(j,t)}},o.default.createElement(d.default,{name:"download",size:24*s.p,color:i.default.accent300})):null),"dir"===t.type?o.default.createElement(u.View,{style:{flexDirection:"row"}},o.default.createElement(u.View,{style:{width:16*s.p,alignItems:"flex-start"}},o.default.createElement(u.View,{style:{flex:1,marginLeft:4*s.p,width:2*s.p,backgroundColor:l?i.default.gray600:i.default.gray300}})),o.default.createElement(u.View,{style:{flex:1}},E)):null)};t.default=h},122:function(e,t,r){var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,l.useTranslation)().t,t=(0,a.useContext)(i.DeviceContext).dark;return a.default.createElement(o.View,{style:{flex:1,flexDirection:"row",justifyContent:"center"}},a.default.createElement(f.default,{s:12,w:"m",c:t?u.default.gray200:u.default.gray700},e("noContent")))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,r&&r.set(e,n);return n}(r(5)),l=r(33),o=r(7),u=n(r(16)),i=r(22),f=n(r(21));function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}},1352:function(e,t,r){var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=t.dark,n=t.item,i=(0,l.useState)(!1),f=(0,a.default)(i,2),c=f[0],d=f[1];return l.default.createElement(o.View,null,"file"==n.type?l.default.createElement(u.default,{dark:r,item:n}):l.default.createElement(o.View,null,l.default.createElement(u.default,{dark:r,item:n,onPress:function(){d(!c)}},c?n.children.map((function(t){return l.default.createElement(e,{dark:r,key:t.code,item:t})})):[])))};var a=n(r(15)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,r&&r.set(e,n);return n}(r(5)),o=r(7),u=n(r(120));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}},146:function(e,t,r){var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,r&&r.set(e,n);return n}(r(5)),l=r(7),o=n(r(16)),u=r(17),i=n(r(21));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var c=l.StyleSheet.create({badge:{position:"absolute",width:20*u.p,height:20*u.p,borderRadius:20*u.p,backgroundColor:o.default.red,right:-10*u.p,top:-10*u.p,justifyContent:"center",alignItems:"center"}}),d=function(e){var t=e.children,r=e.style,n=void 0===r?{}:r,f=e.number,d=(0,a.useMemo)((function(){return"string"===typeof f?f:f>99?"99+":f}),[f]);return a.default.createElement(l.View,{style:Object.assign({},n)},t,0!==d?a.default.createElement(l.View,{style:c.badge},a.default.createElement(i.default,{w:"r",s:10*u.p,c:o.default.gray100},d)):null)};t.default=d},147:function(e,t,r){var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(5)),l=r(7),o=n(r(16)),u=r(17),i=n(r(21)),f=function(e){var t=e.title,r=e.dark,n=e.style,f=void 0===n?{}:n,c=e.children;return a.default.createElement(l.View,{style:Object.assign({},f)},a.default.createElement(i.default,{s:12*u.p,w:"m",c:r?o.default.gray100:o.default.gray800},t),a.default.createElement(l.View,{style:{marginTop:16*u.p}},c))};t.default=f},188:function(e,t,r){var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(1348),l=n(r(8)),o=r(88),u=g(r(5)),i=r(7),f=g(r(24)),c=r(116),d=n(r(16)),s=r(17),p=n(r(25)),y=n(r(21));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}var v=function(e){return void 0===e.topic},w=function(e){var t=e.type,r=e.notification,n=e.dark,m=e.read,g=void 0===m||m,w=e.courseName,b=void 0===w?"":w,h=/[<][/]?[^/>]+[/]?[>]+/g,E=(0,u.useMemo)((function(){switch(t){case o.NotificationType.TEST:return"test-pipe";case o.NotificationType.DIRECT:return"message-dots";case o.NotificationType.NOTICE:return"bell";case o.NotificationType.MATERIAL:return"files";default:return"bell"}}),[t]),O=(0,u.useMemo)((function(){return(0,a.decode)((v(r)?r.text:r.body||"").replace("\n"," \n").replace(h,"").trim())}),[r]),j=(0,u.useMemo)((function(){return(0,l.default)(v(r)?r.date:r.time).format("ll")}),[r]),M=(0,f.useSharedValue)(g?0:1),x=(0,f.useAnimatedStyle)(function(){var e=function(){return{width:8*s.p*M.value,height:8*s.p*M.value,backgroundColor:d.default.red,borderRadius:8*s.p}};return e._closure={p:s.p,offset:M,colors:{red:d.default.red}},e.asString="function _f(){const{p,offset,colors}=jsThis._closure;{return{width:8*p*offset.value,height:8*p*offset.value,backgroundColor:colors.red,borderRadius:8*p};}}",e.__workletHash=9456528118976,e.__location="/home/runner/work/open-polito/open-polito/src/ui/Notification.tsx (74:37)",e.__optimalization=3,e}());return(0,u.useEffect)((function(){g&&(M.value=(0,f.withTiming)(0,{duration:200}))}),[g]),u.default.createElement(i.View,{style:{flexDirection:"column"}},u.default.createElement(i.View,{style:{flexDirection:"row",alignItems:"center"}},u.default.createElement(i.View,{style:{width:32*s.p,height:32*s.p,borderRadius:4*s.p,backgroundColor:n?d.default.gray700:d.default.gray200,alignItems:"center",justifyContent:"center",marginRight:16*s.p}},u.default.createElement(i.View,{style:{position:"absolute",justifyContent:"center",alignItems:"center",top:-4*s.p,right:-4*s.p,width:8*s.p,height:8*s.p}},u.default.createElement(f.default.View,{style:[x]})),u.default.createElement(p.default,{name:E,color:d.default.accent300,size:16*s.p})),u.default.createElement(i.View,{style:{flexDirection:"column",flex:1}},u.default.createElement(y.default,{s:12*s.p,c:n?d.default.gray100:d.default.gray800,w:"r",numberOfLines:v(r)?1:2},v(r)?O:r.title),u.default.createElement(y.default,{s:10*s.p,c:n?d.default.gray200:d.default.gray700,w:"r",numberOfLines:2},j,v(r)?r.course_name&&" \xb7 "+r.course_name:b&&" \xb7 "+b))),""!==O&&u.default.createElement(i.View,{style:{marginTop:12*s.p,padding:16*s.p,borderRadius:4*s.p,backgroundColor:n?d.default.gray700:d.default.gray200}},u.default.createElement(c.RenderHTMLSource,{source:{html:O}})))};t.default=w},282:function(e,t,r){var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var r=e.split(".").pop().toLowerCase(),n=0;n<i.length;n++){var f=i[n],c=f.icon;if(f.extensions.includes(r)){var d=t?i[n].color:i[n].colorLight||i[n].color;return a.default.createElement(u.default,{name:c,color:d,size:24*o.p})}}return a.default.createElement(u.default,{name:"file-unknown",color:l.default.gray500,size:24*o.p})};var a=n(r(5)),l=n(r(16)),o=r(17),u=n(r(25)),i=[{icon:"file-text",color:l.default.gray200,colorLight:l.default.gray700,extensions:["csv","log","md","txt"]},{icon:"archive",color:l.default.gray200,colorLight:l.default.gray700,extensions:["7z","bz","gz","rar","tar","zip","xz"]},{icon:"file-code",color:l.default.black,extensions:["asm","c","cpp","cs","css","go","h","hpp","htm","html","java","js","json","jsx","ts","tsx","php","py","rs","xml"]},{icon:"photo",color:l.default.gradient1,extensions:["bmp","gif","jpg","jpeg","png","svg","tiff"]},{icon:"movie",color:l.default.gradient1,extensions:["flv","mkv","mp4","mov","wmv","avi","webm"]},{icon:"headphones",color:l.default.red,extensions:["aac","alac","flac","m4a","mp3","ogg","wav","wma"]},{icon:"file-text",color:l.default.gradient1,extensions:["doc","docm","docx","odt"]},{icon:"file-text",color:"#ff3848",extensions:["pdf"]},{icon:"presentation",color:l.default.orange,extensions:["odp","ppt","pptm","pptx"]},{icon:"table",color:l.default.green,extensions:["ods","xls","xlsm","xlsx"]}]},44:function(e,t,r){var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,r&&r.set(e,n);return n}(r(5)),l=r(7),o=n(r(16)),u=r(22);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var f=function(e){var t=e.children,r=(0,a.useContext)(u.DeviceContext),n=r.dark,i=r.chosenTheme,f=(0,a.useMemo)((function(){return l.StyleSheet.create({screen:{backgroundColor:n?o.default.gray800:o.default.gray100,flex:1}})}),[n]);return a.default.createElement(l.View,{style:{flex:1}},a.default.createElement(l.StatusBar,{barStyle:"system"==i?"default":n?"dark-content":"light-content"}),a.default.createElement(l.View,{style:f.screen},t))};t.default=f},59:function(e,t,r){var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.HEADER_TYPE=void 0;var a,l=r(46),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,r&&r.set(e,n);return n}(r(5)),u=r(7),i=r(28),f=n(r(16)),c=r(22),d=r(17),s=n(r(146)),p=n(r(42)),y=n(r(25)),m=n(r(21)),g=r(115),v=r(54);function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}t.HEADER_TYPE=a,function(e){e[e.MAIN=0]="MAIN",e[e.SECONDARY=1]="SECONDARY"}(a||(t.HEADER_TYPE=a={}));var b=function(e){var t=e.title,r=e.headerType,n=(0,o.useContext)(c.DeviceContext).dark,w=(0,i.useSelector)((function(e){return e.user.notifications})),b=(0,i.useSelector)((function(e){return e.session.config})),h=(0,i.useDispatch)(),E=(0,o.useMemo)((function(){return w.filter((function(e){return!e.is_read})).length}),[w]),O=(0,l.useNavigation)(),j=(0,o.useMemo)((function(){return n?"moon-stars":"sun"}),[n]),M=(0,o.useCallback)((function(){h((0,v.setConfig)(Object.assign({},b,{theme:n?"light":"dark"})))}),[n,b,h]),x=(0,o.useMemo)((function(){return u.StyleSheet.create({header:{flexDirection:"row",marginHorizontal:12*d.p,marginVertical:16*d.p,alignItems:"center"},headerSection:{flex:1,flexDirection:"row",alignItems:"center"},headerMiddle:{flex:2,flexDirection:"row",justifyContent:"center"},headerEnd:{justifyContent:"flex-end"}})}),[]);return o.default.createElement(u.View,{style:x.header},r===a.MAIN?o.default.createElement(o.default.Fragment,null,o.default.createElement(u.View,{style:x.headerSection},o.default.createElement(p.default,{onPress:function(){O.dispatch(l.DrawerActions.toggleDrawer())}},o.default.createElement(s.default,{number:0,style:{marginRight:16*d.p}},o.default.createElement(y.default,{name:"menu-2",size:24*d.p,color:n?f.default.gray100:f.default.gray800})))),o.default.createElement(u.View,{style:Object.assign({},x.headerSection,x.headerMiddle)},o.default.createElement(m.default,{c:n?f.default.gray100:f.default.gray800,w:"m",s:16*d.p,numberOfLines:1},t)),o.default.createElement(u.View,{style:Object.assign({},x.headerSection,x.headerEnd)},"mobile"!==g.genericPlatform&&o.default.createElement(p.default,{onPress:M},o.default.createElement(y.default,{name:j,size:24*d.p,color:n?f.default.gray100:f.default.gray800,style:{marginRight:16*d.p}})),o.default.createElement(p.default,{onPress:function(){return O.navigate("Search")}},o.default.createElement(y.default,{name:"search",size:24*d.p,color:n?f.default.gray100:f.default.gray800,style:{marginRight:16*d.p}})),o.default.createElement(p.default,{onPress:function(){return O.navigate("Notifications")}},o.default.createElement(s.default,{number:E},o.default.createElement(y.default,{name:"bell",size:24*d.p,color:n?f.default.gray100:f.default.gray800}))))):r===a.SECONDARY?o.default.createElement(o.default.Fragment,null,o.default.createElement(p.default,{onPress:O.goBack},o.default.createElement(y.default,{name:"arrow-left",size:24*d.p,color:n?f.default.gray200:f.default.gray700})),o.default.createElement(m.default,{s:16*d.p,w:"m",c:n?f.default.gray100:f.default.gray800,style:{marginLeft:16*d.p}},t)):null)};t.default=b},632:function(e,t,r){var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,n=e.courseId,i=e.dark,f=(0,o.useSelector)((function(e){return e.courses})).courses;return a.default.createElement(l.View,null,"all"==n?f.map((function(e){var t;return a.default.createElement(u.default,{item:{type:"dir",code:e.basicInfo.code+e.basicInfo.name,name:e.basicInfo.name,children:(null==(t=e.extendedInfo)?void 0:t.material)||[]},key:e.basicInfo.code+e.basicInfo.name,dark:i})})):((null==(t=f.find((function(e){return e.basicInfo.code+e.basicInfo.name==n})))||null==(r=t.extendedInfo)?void 0:r.material)||[]).map((function(e){return a.default.createElement(u.default,{item:e,key:e.code,dark:i})})))};var a=n(r(5)),l=r(7),o=r(28),u=n(r(1352))},93:function(e,t,r){var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(15)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,r&&r.set(e,n);return n}(r(5)),o=r(7),u=n(r(16)),i=r(17),f=n(r(42)),c=n(r(21));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var s=function(e){var t=e.adjusted,r=void 0!==t&&t,n=e.items,d=e.onChange,s=e.defaultIndex,p=void 0===s?0:s,y=e.dark,m=e.style,g=void 0===m?{}:m,v=(0,l.useState)(p),w=(0,a.default)(v,2),b=w[0],h=w[1],E=(0,l.useMemo)((function(){return o.StyleSheet.create({container:{},adjusted:{marginTop:24*i.p,paddingHorizontal:16*i.p},tab:{},selectedIndicator:{marginTop:4*i.p,height:2*i.p,backgroundColor:u.default.accent300}})}),[y,r]);return l.default.createElement(o.View,null,l.default.createElement(o.ScrollView,{contentContainerStyle:Object.assign({},E.container,g,r?E.adjusted:{}),horizontal:!0,showsHorizontalScrollIndicator:!1},n.map((function(e,t){return l.default.createElement(o.View,{style:E.tab,key:e.value},l.default.createElement(f.default,{style:{marginRight:24*i.p},onPress:function(){return h(e=t),void d(e);var e}},l.default.createElement(c.default,{s:12*i.p,w:"m",c:t==b?u.default.accent300:y?u.default.gray100:u.default.gray800},e.label),t==b?l.default.createElement(o.View,{style:E.selectedIndicator}):null))}))))};t.default=s}}]);
//# sourceMappingURL=1.353d25d5.chunk.js.map